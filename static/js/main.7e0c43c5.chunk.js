(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(28)},21:function(e,t,a){},25:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),i=a.n(c),r=(a(21),a(4)),l=a(5),s=a(7),u=a(6),h=a(8),m=a(31),d=a(30),f=a(29),v=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"StartGame"},o.a.createElement("div",null,"\u30b2\u30fc\u30e0\u30d1\u30c3\u30af2018"),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(f.a,{to:"/eightPuzzle"},"\u30a8\u30a4\u30c8\u30d1\u30ba\u30eb")),o.a.createElement("div",null,o.a.createElement(f.a,{to:"/tetris"},"\u30c6\u30c8\u30ea\u30b9"))))}}]),t}(n.Component),k=a(3),b=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.number,a=e.setIdx;return o.a.createElement("div",{className:"NumberPlate",draggable:"true",onClick:a},t)}}]),t}(n.Component),x={0:[0,1,3],1:[1,0,2,4],2:[2,1,5],3:[3,0,4,6],4:[4,1,3,5,7],5:[5,2,4,8],6:[6,3,7],7:[7,4,6,8],8:[8,5,7]},y=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={numList:[[]],width:3,height:3,idxA:null,idxB:null,orFinish:!1},e.initNumList=e.initNumList.bind(Object(k.a)(Object(k.a)(e))),e.setIdx=e.setIdx.bind(Object(k.a)(Object(k.a)(e))),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.width,a=e.height;this.initNumList(t,a)}},{key:"initNumList",value:function(e,t){for(var a=[],n=0;n<e;n++)for(var o=0;o<t;o++)a.push(n*e+o);this.shuffleNumList(a),this.setState({numList:a})}},{key:"shuffleNumList",value:function(e){for(var t=e.length-1;t>=0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}},{key:"initGame",value:function(e,t){for(var a=this,n=[],c=this.state.numList,i=function(e){n.push(o.a.createElement(b,{key:"plate_".concat(e),number:c[e],setIdx:function(t){a.setIdx(t,e)}}))},r=0;r<c.length;r++)i(r);return n}},{key:"notValidSelect",value:function(e,t){return!(x[e].indexOf(t)>=0)}},{key:"setIdx",value:function(e,t){var a=[],n=this.state,o=n.numList,c=n.idxA;if(null===c){e.target.classList.add("selected"),a=document.getElementsByClassName("NumberPlate");for(var i=1;i<x[t].length;i++)a[x[t][i]].classList.add("selectable");this.setState({idxA:t})}else{if(this.notValidSelect(c,t))return void alert("\u305d\u306e\u64cd\u4f5c\u306f\u3067\u304d\u307e\u305b\u3093");a=document.getElementsByClassName("NumberPlate");for(var r=0;r<a.length;r++)a[r].classList.remove("selected"),a[r].classList.remove("selectable");if(this.swapPanel(o,c,t),this.setState({idxA:null}),this.chkFinish(o))for(var l=0;l<a.length;l++)a[l].classList.add("completed"),this.setState({orFinish:!0})}}},{key:"swapPanel",value:function(e,t,a){var n=e[t];e[t]=e[a],e[a]=n}},{key:"chkFinish",value:function(e){for(var t=0;t<e.length;t++)if(e[t]!==t)return!1;return!0}},{key:"resetGame",value:function(e,t){this.initNumList(e,t);for(var a=document.getElementsByClassName("NumberPlate"),n=0;n<a.length;n++)a[n].classList.remove("selected"),a[n].classList.remove("selectable"),a[n].classList.remove("completed");this.setState({orFinish:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.orFinish,n=t.width,c=t.height,i=this.initGame(3,3);return o.a.createElement("div",null,a?o.a.createElement("div",{className:"CompMessage"},"CONGURATURATION"):null,o.a.createElement("div",{className:"EightPuzzle"},i),a?o.a.createElement("div",{className:"tryAgainButton",onClick:function(){return e.resetGame(n,c)}},"\u3082\u3046\u4e00\u5ea6\u3084\u308b"):null,o.a.createElement(f.a,{to:"/"},"\u30c8\u30c3\u30d7\u306b\u623b\u308b"))}}]),t}(n.Component),p={a:{col:1,row:4,block:[[1,1,1,1]]},b:{col:2,row:3,block:[[0,1,0],[1,1,1]]},c:{col:2,row:2,block:[[1,1],[1,1]]},d:{col:2,row:3,block:[[0,1,1],[1,1,0]]},e:{col:2,row:3,block:[[1,1,0],[0,1,1]]},f:{col:3,row:2,block:[[1,0],[1,0],[1,1]]},g:{col:3,row:2,block:[[0,1],[0,1],[1,1]]}},B={blockID:"",block:{},axis:{x:0,y:0}},w=["a","b","c","d","e","f","g"],O=!1,g=!1,j=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={tetrisBox:[]},e.startGame=e.startGame.bind(Object(k.a)(Object(k.a)(e))),e.initBox=e.initBox.bind(Object(k.a)(Object(k.a)(e))),e.setFallingBlock=e.setFallingBlock.bind(Object(k.a)(Object(k.a)(e))),e.updateBox=e.updateBox.bind(Object(k.a)(Object(k.a)(e))),e.onKeyDown=e.onKeyDown.bind(Object(k.a)(Object(k.a)(e))),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown),this.setState({tetrisBox:this.initBox(10,20)})}},{key:"initBox",value:function(e,t){for(var a=[],n=0;n<t;n++){for(var c=[],i=0;i<e;i++){var r;r=o.a.createElement("div",{id:"row_".concat(i,"_").concat(n),key:"row_".concat(i,"_").concat(n),className:"TetrisBox-row"}," "),c.push(r)}a.push(o.a.createElement("div",{id:"col_".concat(n),key:"col_".concat(n),className:"TetrisBox-col"},c))}return a}},{key:"generateBlock",value:function(){var e=Math.floor(Math.random()*w.length),t=w[e],a=Object.assign({},p[t]);B={blockID:t,block:a,axis:{x:0,y:0}}}},{key:"setFallingBlock",value:function(e){B.axis={x:e.x,y:e.y}}},{key:"updateBox",value:function(e){var t=B.axis.x,a=B.axis.y,n=B.block;this.setFallingBlock({x:t,y:a});for(var o=0;o<20;o++)for(var c=0;c<10;c++){var i=document.getElementById("row_".concat(c,"_").concat(o));""!==B.blockID&&c>=t&&c<t+n.row&&o>=a&&o<a+n.col?a+n.col>=20||this.orConflictFixBlock("down",t,a,n)?(console.log("CONFLICT OCCURED"),O=!0,this.paintBlock(o,c,t,a,i,n,O),a<=3&&(g=!0)):this.paintBlock(o,c,t,a,i,n,O):i.classList.remove(B.blockID)}O?(this.generateBlock(),O=!1):e&&(a+=1,this.setFallingBlock({x:t,y:a}))}},{key:"orConflictFixBlock",value:function(e,t,a,n){switch(e){case"down":for(var o=0;o<n.col;o++)for(var c=0;c<n.row;c++)if(n.block[o][c]&&document.getElementById("row_".concat(t+c,"_").concat(a+o+1)).classList.contains("fix"))return!0;break;case"left":for(var i=0;i<n.col;i++)if(n.block[i][0]&&document.getElementById("row_".concat(t-1,"_").concat(a+i)).classList.contains("fix"))return!0;break;case"right":for(var r=0;r<n.col;r++)if(n.block[r][n.row-1]&&document.getElementById("row_".concat(t+n.row,"_").concat(a+r)).classList.contains("fix"))return!0}return!1}},{key:"paintBlock",value:function(e,t,a,n,o,c,i){c.block[e-n][t-a]?(o.classList.add(B.blockID),i&&o.classList.add("fix")):o.classList.remove(B.blockID)}},{key:"onKeyDown",value:function(e){37===e.keyCode?this.moveBlock("left"):39===e.keyCode?this.moveBlock("right"):40===e.keyCode?this.moveBlock("down"):81===e.keyCode?this.rotateBlock("left"):87===e.keyCode&&this.rotateBlock("right")}},{key:"moveBlock",value:function(e){var t=B.axis.x,a=B.axis.y,n=B.block;switch(e){case"left":if(t<=0)return;if(this.orConflictFixBlock("left",t,a,n))return;B.axis.x-=1,this.updateBox(!1);break;case"right":if(t+n.row>=10)return;if(this.orConflictFixBlock("right",t,a,n))return;B.axis.x+=1,this.updateBox(!1);break;case"down":if(a+n.col>=20)return;if(this.orConflictFixBlock("down",t,a,n))return;B.axis.y+=1,this.updateBox(!1)}}},{key:"rotateBlock",value:function(e){var t=B.block,a=t.col,n=t.row,o=[],c=[];switch(t.row=a,t.col=n,e){case"left":for(var i=n-1;i>=0;i--){c=[];for(var r=0;r<a;r++)c.push(t.block[r][i]);o.push(c)}t.block=o,this.updateBox(!1);break;case"right":for(var l=0;l<n;l++){c=[];for(var s=a-1;s>=0;s--)c.push(t.block[s][l]);o.push(c)}t.block=o,this.updateBox(!1)}}},{key:"startGame",value:function(){var e,t=this;this.generateBlock(),e=setInterval(function(){t.updateBox(!0),g&&clearInterval(e)},700)}},{key:"render",value:function(){var e=this.state.tetrisBox;return o.a.createElement("div",null,o.a.createElement("div",{className:"StartGame",onClick:this.startGame},"\u30b2\u30fc\u30e0\u30b9\u30bf\u30fc\u30c8"),o.a.createElement("div",{className:"TetrisBox"},e))}}]),t}(n.Component),E=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"Tetris"},o.a.createElement(j,null)),o.a.createElement(f.a,{to:"/"},"\u30c8\u30c3\u30d7\u306b\u623b\u308b"))}}]),t}(n.Component),C=(a(25),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(m.a,{basename:"/game-pack"},o.a.createElement("div",null,o.a.createElement(d.a,{exact:!0,path:"/",component:v}),o.a.createElement(d.a,{exact:!0,path:"/eightPuzzle",component:y}),o.a.createElement(d.a,{exact:!0,path:"/tetris",component:E}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.7e0c43c5.chunk.js.map